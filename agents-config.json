{
  "orchestration": {
    "version": "1.0.0",
    "project_type": "saas-generic",
    "created_at": "2026-01-13",
    "last_updated": "2026-01-13",

    "agents": [
      {
        "id": "architect",
        "name": "Architect Agent",
        "file": ".github/agents/architect-agent.md",
        "priority": 1,
        "enabled": true,
        "triggers": [
          "architecture",
          "design",
          "system-design",
          "technical-decisions"
        ],
        "outputs": ["architecture-docs", "technical-specs", "design-patterns"]
      },
      {
        "id": "backend",
        "name": "Backend Agent",
        "file": ".github/agents/backend-agent.md",
        "priority": 2,
        "enabled": true,
        "triggers": ["api", "business-logic", "server", "backend"],
        "dependencies": ["architect", "database"],
        "outputs": ["api-code", "business-logic", "controllers", "services"]
      },
      {
        "id": "frontend",
        "name": "Frontend Agent",
        "file": ".github/agents/frontend-agent.md",
        "priority": 2,
        "enabled": true,
        "triggers": ["ui", "ux", "components", "frontend", "client"],
        "dependencies": ["architect", "backend"],
        "outputs": ["ui-components", "pages", "state-management", "styles"]
      },
      {
        "id": "database",
        "name": "Database Agent",
        "file": ".github/agents/database-agent.md",
        "priority": 3,
        "enabled": true,
        "triggers": [
          "database",
          "schema",
          "migrations",
          "queries",
          "data-model"
        ],
        "dependencies": ["architect"],
        "outputs": ["migrations", "schemas", "queries", "seeders"]
      },
      {
        "id": "devops",
        "name": "DevOps Agent",
        "file": ".github/agents/devops-agent.md",
        "priority": 4,
        "enabled": true,
        "triggers": [
          "deployment",
          "ci-cd",
          "infrastructure",
          "docker",
          "kubernetes"
        ],
        "dependencies": ["backend", "frontend"],
        "outputs": ["ci-cd-config", "infrastructure-code", "deployment-scripts"]
      },
      {
        "id": "security",
        "name": "Security Agent",
        "file": ".github/agents/security-agent.md",
        "priority": 5,
        "enabled": true,
        "triggers": ["security", "vulnerabilities", "audit", "compliance"],
        "dependencies": ["backend", "frontend", "database"],
        "outputs": [
          "security-reports",
          "vulnerability-fixes",
          "security-configs"
        ]
      },
      {
        "id": "testing",
        "name": "Testing Agent",
        "file": ".github/agents/testing-agent.md",
        "priority": 6,
        "enabled": true,
        "triggers": ["test", "testing", "qa", "quality"],
        "dependencies": ["backend", "frontend"],
        "outputs": [
          "unit-tests",
          "integration-tests",
          "e2e-tests",
          "test-reports"
        ]
      },
      {
        "id": "documentation",
        "name": "Documentation Agent",
        "file": ".github/agents/documentation-agent.md",
        "priority": 7,
        "enabled": true,
        "triggers": ["docs", "documentation", "readme", "api-docs"],
        "dependencies": ["architect", "backend", "frontend"],
        "outputs": [
          "technical-docs",
          "api-documentation",
          "readme-files",
          "guides"
        ]
      },
      {
        "id": "code-review",
        "name": "Code Review Agent",
        "file": ".github/agents/code-review-agent.md",
        "priority": 8,
        "enabled": true,
        "triggers": ["review", "quality", "refactor", "code-quality"],
        "dependencies": ["backend", "frontend"],
        "outputs": ["review-reports", "refactor-suggestions", "quality-metrics"]
      },
      {
        "id": "integration",
        "name": "Integration Agent",
        "file": ".github/agents/integration-agent.md",
        "priority": 9,
        "enabled": true,
        "triggers": [
          "integration",
          "third-party",
          "api-integration",
          "webhooks"
        ],
        "dependencies": ["backend", "security"],
        "outputs": ["integration-code", "webhook-handlers", "api-clients"]
      }
    ],

    "workflows": {
      "feature_development": {
        "description": "Complete workflow for developing a new feature",
        "steps": [
          {
            "step": 1,
            "agent": "architect",
            "action": "design_feature",
            "validation": ["architecture_approved", "patterns_defined"],
            "timeout_minutes": 30
          },
          {
            "step": 2,
            "agent": "database",
            "action": "design_schema",
            "validation": ["schema_valid", "migrations_ready"],
            "timeout_minutes": 20,
            "parallel": false
          },
          {
            "step": 3,
            "agents": ["backend", "frontend"],
            "action": "implement_feature",
            "validation": ["code_compiles", "no_errors"],
            "timeout_minutes": 120,
            "parallel": true
          },
          {
            "step": 4,
            "agent": "testing",
            "action": "create_tests",
            "validation": ["tests_pass", "coverage_threshold"],
            "timeout_minutes": 60
          },
          {
            "step": 5,
            "agent": "security",
            "action": "security_audit",
            "validation": ["no_critical_vulnerabilities"],
            "timeout_minutes": 30
          },
          {
            "step": 6,
            "agent": "code-review",
            "action": "review_code",
            "validation": ["quality_score_met", "no_critical_issues"],
            "timeout_minutes": 20
          },
          {
            "step": 7,
            "agent": "documentation",
            "action": "document_feature",
            "validation": ["docs_complete", "api_docs_updated"],
            "timeout_minutes": 30
          },
          {
            "step": 8,
            "agent": "devops",
            "action": "prepare_deployment",
            "validation": ["ci_passes", "deployment_ready"],
            "timeout_minutes": 40
          }
        ],
        "rollback_strategy": "automatic",
        "notification_channels": ["slack", "email"]
      },

      "bug_fix": {
        "description": "Workflow for fixing bugs",
        "steps": [
          {
            "step": 1,
            "agent": "testing",
            "action": "reproduce_bug",
            "validation": ["bug_reproduced", "test_case_created"],
            "timeout_minutes": 20
          },
          {
            "step": 2,
            "agent": "architect",
            "action": "analyze_root_cause",
            "validation": ["root_cause_identified"],
            "timeout_minutes": 15,
            "optional": true
          },
          {
            "step": 3,
            "agents": ["backend", "frontend", "database"],
            "action": "fix_bug",
            "validation": ["fix_implemented", "code_compiles"],
            "timeout_minutes": 60,
            "parallel": false
          },
          {
            "step": 4,
            "agent": "testing",
            "action": "verify_fix",
            "validation": ["bug_test_passes", "no_regressions"],
            "timeout_minutes": 30
          },
          {
            "step": 5,
            "agent": "code-review",
            "action": "review_fix",
            "validation": ["fix_approved"],
            "timeout_minutes": 15
          },
          {
            "step": 6,
            "agent": "devops",
            "action": "deploy_hotfix",
            "validation": ["deployed_successfully"],
            "timeout_minutes": 20,
            "condition": "is_critical_bug"
          }
        ],
        "priority": "high",
        "auto_deploy": false
      },

      "refactor": {
        "description": "Workflow for code refactoring",
        "steps": [
          {
            "step": 1,
            "agent": "architect",
            "action": "propose_refactor",
            "validation": ["refactor_plan_approved"],
            "timeout_minutes": 30
          },
          {
            "step": 2,
            "agent": "code-review",
            "action": "identify_refactor_areas",
            "validation": ["areas_identified", "metrics_baseline"],
            "timeout_minutes": 20
          },
          {
            "step": 3,
            "agents": ["backend", "frontend", "database"],
            "action": "implement_refactor",
            "validation": ["code_improved", "functionality_preserved"],
            "timeout_minutes": 180,
            "parallel": false
          },
          {
            "step": 4,
            "agent": "testing",
            "action": "regression_testing",
            "validation": ["all_tests_pass", "no_new_failures"],
            "timeout_minutes": 45
          },
          {
            "step": 5,
            "agent": "code-review",
            "action": "validate_improvements",
            "validation": ["metrics_improved", "quality_increased"],
            "timeout_minutes": 20
          },
          {
            "step": 6,
            "agent": "documentation",
            "action": "update_docs",
            "validation": ["docs_reflect_changes"],
            "timeout_minutes": 30
          }
        ],
        "requires_approval": true
      },

      "deployment": {
        "description": "Production deployment workflow",
        "steps": [
          {
            "step": 1,
            "agent": "testing",
            "action": "run_full_test_suite",
            "validation": ["all_tests_pass", "coverage_met"],
            "timeout_minutes": 60
          },
          {
            "step": 2,
            "agent": "security",
            "action": "security_scan",
            "validation": ["no_vulnerabilities", "compliance_met"],
            "timeout_minutes": 30
          },
          {
            "step": 3,
            "agent": "code-review",
            "action": "final_review",
            "validation": ["code_quality_approved"],
            "timeout_minutes": 20
          },
          {
            "step": 4,
            "agent": "devops",
            "action": "build_artifacts",
            "validation": ["build_successful", "artifacts_created"],
            "timeout_minutes": 30
          },
          {
            "step": 5,
            "agent": "devops",
            "action": "deploy_to_staging",
            "validation": ["staging_healthy", "smoke_tests_pass"],
            "timeout_minutes": 20
          },
          {
            "step": 6,
            "agent": "testing",
            "action": "staging_verification",
            "validation": ["e2e_tests_pass", "performance_acceptable"],
            "timeout_minutes": 45
          },
          {
            "step": 7,
            "agent": "devops",
            "action": "deploy_to_production",
            "validation": ["deployment_successful", "health_checks_pass"],
            "timeout_minutes": 30,
            "requires_manual_approval": true
          },
          {
            "step": 8,
            "agent": "devops",
            "action": "post_deployment_monitoring",
            "validation": ["metrics_normal", "no_errors"],
            "timeout_minutes": 30
          }
        ],
        "rollback_on_failure": true,
        "canary_deployment": true,
        "canary_percentage": 10
      },

      "monolith_to_spa_migration": {
        "description": "Migration from Django monolith (templates + embedded React) to separated backend API + SPA frontend",
        "phases": {
          "phase_1_analysis": {
            "description": "Analyze current monolith structure",
            "steps": [
              {
                "step": 1,
                "agent": "architect",
                "action": "analyze_monolith_architecture",
                "validation": [
                  "architecture_documented",
                  "migration_plan_created"
                ],
                "timeout_minutes": 60,
                "outputs": [
                  "current_architecture_diagram",
                  "target_architecture_diagram",
                  "migration_adr",
                  "risk_assessment"
                ]
              },
              {
                "step": 2,
                "agent": "backend",
                "action": "inventory_django_views",
                "validation": ["all_views_documented", "url_mapping_created"],
                "timeout_minutes": 45,
                "outputs": ["views_inventory.md", "url_to_api_mapping.md"]
              },
              {
                "step": 3,
                "agent": "frontend",
                "action": "inventory_templates_and_react",
                "validation": [
                  "templates_cataloged",
                  "react_components_listed"
                ],
                "timeout_minutes": 45,
                "outputs": [
                  "templates_inventory.md",
                  "react_components_inventory.md",
                  "static_assets_list.md"
                ]
              },
              {
                "step": 4,
                "agent": "database",
                "action": "document_current_models",
                "validation": ["models_documented", "relationships_mapped"],
                "timeout_minutes": 30,
                "outputs": [
                  "database_schema_current.md",
                  "models_documentation.md"
                ]
              }
            ]
          },
          "phase_2_backend_api": {
            "description": "Convert Django views to REST API",
            "steps": [
              {
                "step": 1,
                "agent": "backend",
                "action": "setup_drf_structure",
                "validation": ["drf_installed", "api_structure_created"],
                "timeout_minutes": 30,
                "outputs": [
                  "api/serializers.py",
                  "api/viewsets.py",
                  "api/urls.py",
                  "api/permissions.py"
                ]
              },
              {
                "step": 2,
                "agent": "backend",
                "action": "convert_views_to_api_endpoints",
                "validation": ["endpoints_functional", "serializers_created"],
                "timeout_minutes": 180,
                "parallel": false,
                "outputs": ["api_endpoints_code", "openapi_spec"]
              },
              {
                "step": 3,
                "agent": "security",
                "action": "implement_api_authentication",
                "validation": ["jwt_configured", "cors_configured"],
                "timeout_minutes": 60,
                "outputs": [
                  "jwt_authentication.py",
                  "cors_settings.py",
                  "api_permissions.py"
                ]
              },
              {
                "step": 4,
                "agent": "backend",
                "action": "add_api_pagination_filtering",
                "validation": ["pagination_working", "filtering_working"],
                "timeout_minutes": 45,
                "outputs": ["pagination_classes.py", "filter_backends.py"]
              },
              {
                "step": 5,
                "agent": "testing",
                "action": "create_api_tests",
                "validation": ["api_tests_passing", "coverage_threshold"],
                "timeout_minutes": 90,
                "outputs": [
                  "api/tests/test_endpoints.py",
                  "api/tests/test_permissions.py"
                ]
              }
            ]
          },
          "phase_3_frontend_spa": {
            "description": "Create new SPA frontend with Quasar/Vue",
            "steps": [
              {
                "step": 1,
                "agent": "frontend",
                "action": "setup_quasar_project",
                "validation": ["project_initialized", "structure_created"],
                "timeout_minutes": 20,
                "outputs": [
                  "frontend/quasar.config.js",
                  "frontend/src/layouts/",
                  "frontend/src/pages/"
                ]
              },
              {
                "step": 2,
                "agent": "frontend",
                "action": "setup_api_client",
                "validation": ["axios_configured", "interceptors_ready"],
                "timeout_minutes": 30,
                "outputs": [
                  "frontend/src/services/api.ts",
                  "frontend/src/services/auth.ts"
                ]
              },
              {
                "step": 3,
                "agent": "frontend",
                "action": "migrate_templates_to_vue_components",
                "validation": ["components_functional", "routing_configured"],
                "timeout_minutes": 240,
                "parallel": false,
                "priority_order": [
                  "auth_pages",
                  "dashboard",
                  "crud_pages",
                  "complex_features"
                ],
                "outputs": [
                  "frontend/src/components/",
                  "frontend/src/pages/",
                  "frontend/src/router/"
                ]
              },
              {
                "step": 4,
                "agent": "frontend",
                "action": "implement_state_management",
                "validation": ["pinia_configured", "stores_working"],
                "timeout_minutes": 60,
                "outputs": [
                  "frontend/src/stores/auth.ts",
                  "frontend/src/stores/user.ts",
                  "frontend/src/stores/[entity].ts"
                ]
              },
              {
                "step": 5,
                "agent": "frontend",
                "action": "integrate_react_components_as_vue",
                "validation": [
                  "components_migrated",
                  "functionality_preserved"
                ],
                "timeout_minutes": 120,
                "outputs": ["frontend/src/components/migrated/"]
              }
            ]
          },
          "phase_4_parallel_deployment": {
            "description": "Deploy both systems in parallel",
            "steps": [
              {
                "step": 1,
                "agent": "devops",
                "action": "setup_dual_deployment",
                "validation": ["both_apps_accessible", "routing_configured"],
                "timeout_minutes": 60,
                "outputs": ["docker-compose.dual.yml", "nginx.dual.conf"]
              },
              {
                "step": 2,
                "agent": "backend",
                "action": "maintain_legacy_views_temporarily",
                "validation": ["legacy_still_works", "api_coexists"],
                "timeout_minutes": 30,
                "outputs": ["legacy_urls.py", "dual_mode_settings.py"]
              },
              {
                "step": 3,
                "agent": "testing",
                "action": "parallel_testing",
                "validation": [
                  "both_versions_tested",
                  "feature_parity_confirmed"
                ],
                "timeout_minutes": 90,
                "outputs": ["tests/e2e/legacy_vs_spa.spec.ts"]
              },
              {
                "step": 4,
                "agent": "devops",
                "action": "implement_feature_flags",
                "validation": ["flags_working", "gradual_rollout_ready"],
                "timeout_minutes": 45,
                "outputs": [
                  "feature_flags.py",
                  "frontend/src/utils/features.ts"
                ]
              }
            ]
          },
          "phase_5_cutover": {
            "description": "Gradual migration from monolith to SPA",
            "steps": [
              {
                "step": 1,
                "agent": "devops",
                "action": "route_percentage_to_spa",
                "validation": ["routing_working", "metrics_healthy"],
                "timeout_minutes": 30,
                "canary_percentage": [10, 25, 50, 75, 100],
                "outputs": ["nginx_percentage_routing.conf"]
              },
              {
                "step": 2,
                "agent": "testing",
                "action": "monitor_user_experience",
                "validation": ["no_error_increase", "performance_acceptable"],
                "timeout_minutes": 120,
                "continuous": true,
                "outputs": ["monitoring_dashboard_config"]
              },
              {
                "step": 3,
                "agent": "backend",
                "action": "deprecate_template_views",
                "validation": ["views_marked_deprecated", "warnings_added"],
                "timeout_minutes": 30,
                "outputs": ["deprecated_views.py"]
              },
              {
                "step": 4,
                "agent": "documentation",
                "action": "update_all_documentation",
                "validation": ["docs_reflect_new_architecture"],
                "timeout_minutes": 60,
                "outputs": ["docs/api/", "docs/frontend/", "MIGRATION_GUIDE.md"]
              }
            ]
          },
          "phase_6_cleanup": {
            "description": "Remove legacy code and finalize migration",
            "steps": [
              {
                "step": 1,
                "agent": "backend",
                "action": "remove_template_views",
                "validation": ["templates_removed", "only_api_remains"],
                "timeout_minutes": 45,
                "requires_approval": true,
                "outputs": ["cleaned_urls.py", "removed_files_list.md"]
              },
              {
                "step": 2,
                "agent": "backend",
                "action": "remove_template_dependencies",
                "validation": ["unused_packages_removed", "settings_cleaned"],
                "timeout_minutes": 30,
                "outputs": ["requirements_cleaned.txt", "settings_api_only.py"]
              },
              {
                "step": 3,
                "agent": "devops",
                "action": "simplify_deployment",
                "validation": [
                  "single_deployment_pipeline",
                  "infrastructure_optimized"
                ],
                "timeout_minutes": 60,
                "outputs": [
                  "docker-compose.yml",
                  "nginx.conf",
                  ".github/workflows/deploy.yml"
                ]
              },
              {
                "step": 4,
                "agent": "documentation",
                "action": "finalize_migration_documentation",
                "validation": [
                  "migration_documented",
                  "lessons_learned_captured"
                ],
                "timeout_minutes": 45,
                "outputs": ["MIGRATION_COMPLETE.md", "ARCHITECTURE.md"]
              }
            ]
          }
        },
        "rollback_strategy": "phase_by_phase",
        "estimated_duration_weeks": 12,
        "requires_approval_per_phase": true,
        "success_criteria": [
          "zero_downtime_migration",
          "feature_parity_achieved",
          "performance_improved_or_maintained",
          "user_experience_maintained",
          "legacy_code_removed"
        ]
      }
    },

    "communication": {
      "handoff_protocol": {
        "format": "markdown",
        "required_fields": [
          "completed_by",
          "timestamp",
          "files_modified",
          "dependencies_added",
          "configurations_changed",
          "next_steps",
          "special_notes"
        ],
        "template_file": ".github/templates/handoff-template.md"
      },
      "shared_context": {
        "location": "project-context.md",
        "required_variables": [
          "FRAMEWORK",
          "BACKEND_STACK",
          "DATABASE",
          "CLOUD_PROVIDER",
          "AUTH_METHOD",
          "DEPLOYMENT_STRATEGY"
        ],
        "update_frequency": "on_change",
        "validation_required": true
      },
      "notification_settings": {
        "channels": {
          "slack": {
            "enabled": true,
            "webhook_url": "{{SLACK_WEBHOOK_URL}}",
            "channels": {
              "general": "#dev-general",
              "critical": "#dev-critical",
              "deployments": "#deployments"
            }
          },
          "email": {
            "enabled": true,
            "recipients": ["{{TEAM_EMAIL}}"],
            "on_events": ["deployment", "critical_error", "security_issue"]
          },
          "github": {
            "enabled": true,
            "create_issues": true,
            "labels": ["agent-orchestration", "automated"]
          }
        }
      }
    },

    "validation": {
      "checkpoints": {
        "pre_commit": {
          "enabled": true,
          "checks": ["lint", "format", "type_check", "unit_tests", "no_secrets"]
        },
        "pre_push": {
          "enabled": true,
          "checks": ["all_tests", "build", "integration_tests"]
        },
        "pre_merge": {
          "enabled": true,
          "checks": [
            "code_review_approved",
            "ci_passing",
            "coverage_threshold",
            "security_scan_clean"
          ]
        },
        "pre_deployment": {
          "enabled": true,
          "checks": [
            "e2e_tests",
            "performance_tests",
            "security_audit",
            "documentation_updated"
          ]
        }
      },
      "thresholds": {
        "test_coverage": 80,
        "code_quality_score": 75,
        "performance_score": 90,
        "security_score": 95
      }
    },

    "automation": {
      "auto_assign_agents": true,
      "auto_create_branches": true,
      "auto_run_tests": true,
      "auto_deploy_staging": true,
      "auto_deploy_production": false,
      "auto_rollback": true,
      "auto_documentation": true
    },

    "monitoring": {
      "track_agent_performance": true,
      "log_all_actions": true,
      "metrics_collection": {
        "enabled": true,
        "metrics": [
          "agent_execution_time",
          "workflow_completion_time",
          "success_rate",
          "failure_rate",
          "rollback_frequency"
        ]
      },
      "alerting": {
        "enabled": true,
        "alert_on": [
          "workflow_failure",
          "timeout",
          "validation_failure",
          "security_issue"
        ]
      }
    },

    "integrations": {
      "version_control": {
        "platform": "{{REPOSITORY_HOST}}",
        "auto_commit": false,
        "commit_message_format": "conventional-commits"
      },
      "project_management": {
        "platform": "{{PROJECT_MANAGEMENT_TOOL}}",
        "auto_create_tasks": true,
        "sync_status": true
      },
      "documentation": {
        "platform": "{{DOCS_PLATFORM}}",
        "auto_publish": true
      }
    },

    "error_handling": {
      "retry_policy": {
        "max_retries": 3,
        "backoff_strategy": "exponential",
        "retry_on": ["timeout", "temporary_failure"]
      },
      "fallback_strategies": {
        "agent_unavailable": "skip_and_notify",
        "validation_failure": "halt_workflow",
        "timeout": "retry_then_notify"
      }
    }
  },

  "metadata": {
    "schema_version": "1.0.0",
    "compatible_with": ["github-copilot", "custom-orchestration"],
    "maintainer": "{{TECH_LEAD_NAME}}",
    "documentation": "README.md",
    "changelog": "CHANGELOG.md"
  }
}
